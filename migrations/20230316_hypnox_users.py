import tweepy

import core


curr_uids = [
    "2365864771",
    "1654661744",
    "153754330",
    "226749344",
    "4300884674",
    "952978915101831168",
    "1191441760385470467",
    "1144245254469685250",
    "758714587130847232",
    "148243590",
    "380546370",
    "970943229184086016",
    "39257839",
    "129935623",
    "973372274735710208",
    "827237880300974081",
    "846853846949384192",
    "704791575570878465",
    "1235229631533518850",
    "3224463214",
    "1100429168020504576",
    "998732397184212992",
    "1098266607594455041",
    "1073132650309726208",
    "1044134387900719104",
    "936224248586211329",
    "22328981",
    "769721685645795329",
    "1160025057134931971",
    "951718650611826688",
    "997524641664061440",
    "1213203607618650112",
    "919638257402548224",
    "987343085251317760",
    "995436051744378885",
    "944746889194364928",
    "259801406",
    "259658758",
    "2735504155",
    "2232087858",
    "2623870473",
    "942817793787023360",
    "906234475604037637",
    "4867221165",
    "1382628413140312070",
    "1205153155027107840",
    "873550863121371138",
    "146008010",
    "910899153772916736",
    "2194899020",
    "930781655538679808",
    "975425759308378114",
    "949749627418562561",
    "972970759416111104",
    "1118510978491211779",
    "912328818358067200",
    "2814823251",
    "1274101971809681408",
    "1013821726977863680",
    "1010914047963860992",
    "918138253617790976",
    "2512296715",
    "963428156660240384",
    "183951857",
    "1197099376868577281",
    "951888527079497728",
    "1083444884126789632",
    "2976727463",
    "1272370566280802304",
    "2554656433",
    "1107819963094429697",
    "147453521",
    "137141050",
    "949016786506100736",
    "944686196331966464",
    "1279877750522818561",
    "997679027031691264",
    "898155965899526145",
    "925350613633945600",
    "1009144502827638784",
    "4441279246",
    "950335062280634369",
    "2887784285",
    "947098577540657152",
    "92280858",
    "892756246469541888",
    "3407824378",
    "1392927426",
    "1369625559513378821",
    "889183928053104642",
    "143977123",
    "904700529988820992",
    "996294856078188544",
    "236804287",
    "945660011446984704",
    "3307664430",
    "938606626017370112",
    "20710945",
    "230206137",
    "933343846691430400",
    "943958987556507653",
    "942074049177554945",
    "1138993163706753029",
    "715133222976270336",
    "874629802422145025",
    "198714960",
    "1049283050817970177",
    "2303450707",
    "2545086098",
    "1303050335821467648",
    "938890001420611585",
    "1566114613",
    "1406757845857624071",
    "1091099554605395968",
    "939058273487003648",
    "1168386506739859456",
    "284602751",
    "60113926",
    "913790748574838784",
    "1022733770116526080",
    "767557314823925760",
    "891170454614003713",
    "887748030304329728",
    "976929593042063360",
    "1059475475876245507",
    "978732571738755072",
    "1042145799629529088",
    "1518693594617552896",
    "920268737034489856",
    "809191427645181952",
    "952109977157668864",
    "1235560199294988288",
    "1240961772711866371",
    "1019660554472837120",
    "1016037844081496064",
    "1090397253078900736",
    "946051850872254464",
    "2446024556",
    "58759836",
    "1161134325536083968",
    "969571031030616071",
    "947954652770844672",
    "1110554613638402048",
    "1205349086594912257",
    "1314455348561031168",
    "708589549564370944",
    "724967598803304448",
    "1131823501025959936",
    "274334177",
    "4654719101",
    "2178012643",
    "1276885879739604992",
    "939273531568873473",
    "1055901997998714880",
    "965907870867861504",
    "710463119886262272",
    "893765226365149184",
    "970036983589408768",
    "1254034749384994817",
    "1190652455140220928",
    "897446848004227072",
    "1112370699161751553",
    "930705777752399872",
    "943070242481217536",
    "966372701597323264",
    "1205153155027107840",
    "972535768660021248",
    "1087761247662166017",
    "928442513723097088",
    "1710003067",
    "852256178021294080",
    "2460031634",
    "952150697021079552",
    "1078362309687472134",
    "1412883366446305281",
    "881258555432632322",
    "885787588308721664",
    "1654107158",
    "1036115996",
    "987112189751365632",
    "814382122555285504",
    "1022821051187822593",
    "3347198026",
    "1118104888393650176",
    "1129911189801263105",
    "962958900906680320",
    "16401923",
    "337272697",
    "1388925833998442496",
    "309749985",
    "1165840402676637696",
    "2603525726",
    "988992203568562176",
    "246213562",
    "38911000",
    "1256883587028185089",
    "1108444442",
    "1258527876",
    "3696215239",
    "154047584",
    "2449847450",
    "1000257343383359488",
    "138073453",
    "942966319229566977",
    "1177975104015228930",
    "994691295040884736",
    "918122676195090433",
    "776078472477347840",
    "959087936",
    "17351167",
    "1001820923241132032",
    "1009829949606449152",
    "930923044394082304",
    "891170454614003713",
    "2910676382",
    "872688738429657088",
    "949619698387349505",
    "940653033268137984",
    "952174186667040768",
    "945017538647224320",
    "2837666919",
    "899345041965109250",
    "1398843061233463297",
    "819222096152641537",
]

assert core.config["TWITTER_BEARER_TOKEN"] is not None

core.strategies.hypnox.HypnoxUser.create_table()

client = tweepy.Client(core.config["TWITTER_BEARER_TOKEN"])

with core.db.connection.atomic():
    for id in curr_uids:
        user = client.get_user(id=id)

        if not user.data:
            continue

        print("{id} {username}".format(id=id, username=user.data.username))

        core.strategies.hypnox.HypnoxUser.get_or_create(
            twitter_user_id=id, username=user.data.username
        )
