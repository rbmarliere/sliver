<div class="main">
  <mat-sidenav-container class="container">
    <mat-sidenav #sidenav mode="side" opened>
      <mat-button-toggle-group class="sidenav">
          <mat-button-toggle
            class="sidenav"
            *ngFor="let strategy of strategies"
            (click)="selectStrategy(strategy)">
            {{ strategy.description }}
          </mat-button-toggle>
      </mat-button-toggle-group>
    </mat-sidenav>

    <mat-sidenav-content class="content">
      <div *ngIf="data">
        <p>
          <button *ngIf="selected" mat-raised-button color="primary" (click)="subscribe(selected)">
            <span *ngIf="!selected.subscribed">Subscribe</span>
            <span *ngIf="selected.subscribed">Unsubscribe</span>
          </button>
        </p>


        <p>
          <plotly-plot *ngIf="data" [data]="data" [layout]="layout"></plotly-plot>
        </p>

        <p>
          BACKTEST LOG:
        </p>
        <pre>{{ backtest_log }}</pre>
      </div>

      <div *ngIf="selected && !data" class="main">
        <mat-spinner></mat-spinner>
      </div>

    </mat-sidenav-content>
  </mat-sidenav-container>
</div>

