<p></p>

<div style="display: inline-block">
  Backtest
  <div *ngIf="!loading" style="display: inline-block">
    <button class="icon-display" mat-icon-button color="primary" (click)="getIndicators()" title="Refresh Indicators">
      <mat-icon fontIcon="refresh"></mat-icon>
    </button>
  </div>
</div>

<p></p>

<div class="main container">

  <mat-card appearance="outlined">
    <div *ngIf="loading" class="spinner">
      <mat-spinner></mat-spinner>
    </div>

    <mat-card-content class="container">

      <div *ngIf="!loading && indicators">

        <div class="accounting-table">
          <table>
            <tr *ngFor="let item of backtestLog">

              <td *ngIf="item.key == 'sep'" colspan="2">
                <hr>
              </td>
              <td *ngIf="item.key == 'SEP'" colspan="2">
                <hr style="width: 100%; height: 2px; background-color: #000000;">
              </td>

              <td *ngIf="item.key == 'title'" colspan="2" style="text-align: center;">
                <h4>{{ item.value }}</h4>
              </td>

              <td *ngIf="item.key != 'sep' && item.key != 'SEP' && item.key != 'title'" style="text-align: left;">
                {{ item.key }}
              </td>
              <td *ngIf="item.key != 'sep' && item.key != 'SEP' && item.key != 'title'" style="text-align: right;">
                {{ item.value }}
              </td>
            </tr>
          </table>
        </div>

        <plotly-plot [config]="plot.config" [data]="plot.data" [layout]="plot.layout" [updateOnlyWithRevision]="true"
          (relayout)="zoom($event)"></plotly-plot>

      </div>

    </mat-card-content>
  </mat-card>

</div>
